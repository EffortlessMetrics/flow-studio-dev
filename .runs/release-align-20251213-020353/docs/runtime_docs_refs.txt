README.md:13:- **FastAPI backend** (Flow Studio APIs + local static UI serving)
README.md:78:[docs/GETTING_STARTED.md](docs/GETTING_STARTED.md).
README.md:89:If port 5000 is busy:
README.md:92:uv run uvicorn swarm.tools.flow_studio_fastapi:app --host 127.0.0.1 --port 5001
README.md:258:| **Operator** | 1–2 hours | Understand flows, run golden examples, explore governance | [GETTING_STARTED.md](docs/GETTING_STARTED.md) + [SELFTEST_SYSTEM.md](docs/SELFTEST_SYSTEM.md) |
README.md:282:- **Quick overview?** → [`docs/GETTING_STARTED.md`](docs/GETTING_STARTED.md) (10 min, two paths)
README.md:290:Before diving in, check these prerequisites:
README.md:300:If you're not sure, try [docs/GETTING_STARTED.md](docs/GETTING_STARTED.md) first for a 20-minute tour.
README.md:341:- Flow Studio uses FastAPI backend exclusively
README.md:386:- **Getting Started**: [docs/GETTING_STARTED.md](./docs/GETTING_STARTED.md) —
docs/FLOW_STUDIO_UX_HANDOVER.md:486:* Backend: `swarm/tools/flow_studio_fastapi.py` (FastAPI)
docs/FLOW_STUDIO_UX_HANDOVER.md:996:   * [`GETTING_STARTED.md`](./GETTING_STARTED.md)
docs/SELFTEST_SYSTEM.md:8:> Try Lane B of [docs/GETTING_STARTED.md](./GETTING_STARTED.md) (10 min) to see selftest in action:
docs/SELFTEST_SYSTEM.md:554:- Flow Studio FastAPI app starts successfully
docs/PACKAGING_NOTES.md:24:#### 2. **FastAPI Adapter** (`swarm.tools.flow_studio_fastapi`)
docs/PACKAGING_NOTES.md:50:- **Flow Studio UI** (`swarm/tools/flow_studio_ui/` frontend code) — can be extracted later, but currently tightly tied to FastAPI backend
docs/PACKAGING_NOTES.md:51:- **Flask backend** (`swarm/tools/flow_studio_flask.py`) — legacy, not extracted
docs/PACKAGING_NOTES.md:72:1. **Don't leak Flask/repo concepts into `core.py`**:
docs/PACKAGING_NOTES.md:81:   - ✅ Good: FastAPI routes return JSON; UI is separate frontend
docs/PACKAGING_NOTES.md:102:- ✅ Document portable modules (core, validator, selftest, FastAPI)
docs/PACKAGING_NOTES.md:107:- No FastAPI yet (too much repo coupling, UI not ready)
docs/PACKAGING_NOTES.md:111:- Extract FastAPI adapter and REST API
docs/PACKAGING_NOTES.md:128:3. **FastAPI/Starlette** for API (optional; can be swapped for Flask/Django)
docs/specs/TIMELINE_OVERLAYS_SPEC.md:7:- FastAPI backend (default): `swarm/tools/flow_studio_fastapi.py`
docs/specs/TIMELINE_OVERLAYS_SPEC.md:8:- Flask backend (legacy): `swarm/tools/flow_studio.py`
docs/HELLO_SELFTEST_SPEC.md:639:3. **docs/GETTING_STARTED.md**
docs/HELLO_SELFTEST_SPEC.md:706:- [ ] Add section to `flow-studio/docs/GETTING_STARTED.md`
docs/DEMO_RUN_OPERATORS.md:133:- "Flow Studio runs on a FastAPI backend for fast, responsive visualization."
docs/DEMO_RUN_OPERATORS.md:138:# Server starts at http://localhost:5000 (FastAPI-powered)
docs/DEMO_RUN_OPERATORS.md:234:# Try alternate port (FastAPI backend)
docs/DEMO_RUN_OPERATORS.md:235:uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --host 127.0.0.1 --port 5050
docs/DEMO_RUN_OPERATORS.md:287:| `docs/GETTING_STARTED.md` | Attendee handout (10-minute self-guided tour) |
docs/DEMO_RUN_OPERATORS.md:322:- `docs/GETTING_STARTED.md` - Self-guided tour
docs/OPERATOR_CHECKLIST.md:257:├─ Is the FastAPI server running?
docs/OPERATOR_CHECKLIST.md:268:│  └─ (Check whatever process manager is running FastAPI)
docs/RELEASE_NOTES_2_3_2.md:89:- Updated in: `GETTING_STARTED.md`, `SELFTEST_DEVELOPER_WORKFLOW.md`, `PACKAGING_NOTES.md`
docs/RELEASE_NOTES_2_3_0.md:190:`docs/GETTING_STARTED.md` now features:
docs/RELEASE_NOTES_2_3_0.md:244:- Flask/FastAPI migration comparison tests
docs/RELEASE_NOTES_2_3_0.md:297:- [GETTING_STARTED.md](./GETTING_STARTED.md): Quick start guide
docs/archive/FLOW_STUDIO_SELFTEST_ENHANCEMENTS.md:5:Flow Studio (FastAPI backend: `swarm/tools/flow_studio_fastapi.py`, Flask backend: `swarm/tools/flow_studio.py`) already has:
docs/archive/FLOW_STUDIO_SELFTEST_ENHANCEMENTS.md:211:   - FastAPI (default): `swarm/tools/flow_studio_fastapi.py`
docs/archive/FLOW_STUDIO_SELFTEST_ENHANCEMENTS.md:212:   - Flask (legacy): `swarm/tools/flow_studio.py`
docs/archive/FLOW_STUDIO_SELFTEST_ENHANCEMENTS.md:231:- `/home/steven/code/Swarm/demo-swarm-dev/swarm/tools/flow_studio_fastapi.py` (FastAPI backend, default)
docs/archive/FLOW_STUDIO_SELFTEST_ENHANCEMENTS.md:232:- `/home/steven/code/Swarm/demo-swarm-dev/swarm/tools/flow_studio.py` (Flask backend, legacy)
docs/MAINTAINING_FLOW_STUDIO.md:3:This guide documents how to maintain and evolve Flow Studio, the web-based flow visualization tool built on FastAPI + Pydantic + Cytoscape.
docs/MAINTAINING_FLOW_STUDIO.md:25:2. **FastAPI Backend** (`swarm/tools/flow_studio_fastapi.py`)
docs/MAINTAINING_FLOW_STUDIO.md:33:   - Served at `/` by FastAPI
docs/MAINTAINING_FLOW_STUDIO.md:56:### 2. Update FastAPI Routes (if needed)
docs/MAINTAINING_FLOW_STUDIO.md:111:- FastAPI app starts without errors
docs/MAINTAINING_FLOW_STUDIO.md:147:make dump-openapi-schema           # Export current schema from FastAPI app
docs/MAINTAINING_FLOW_STUDIO.md:158:- Changing FastAPI route signatures
docs/MAINTAINING_FLOW_STUDIO.md:185:## Flask Quarantine
docs/MAINTAINING_FLOW_STUDIO.md:187:As of v2.2.0, Flask is **completely removed** from the runtime.
docs/MAINTAINING_FLOW_STUDIO.md:191:- No `Flask(__name__)` instantiations
docs/MAINTAINING_FLOW_STUDIO.md:192:- No `@app.route` decorators using Flask
docs/MAINTAINING_FLOW_STUDIO.md:193:- Legacy Flask backend archived in `swarm/tools/_archive/`
docs/MAINTAINING_FLOW_STUDIO.md:195:**If you need to touch Flask code**:
docs/MAINTAINING_FLOW_STUDIO.md:196:1. Do NOT re-introduce Flask imports in active code
docs/MAINTAINING_FLOW_STUDIO.md:213:3. `pytest tests/test_no_flask_in_runtime.py` — Flask quarantine
docs/MAINTAINING_FLOW_STUDIO.md:302:**Cause**: Another process is using port 5000.
docs/MAINTAINING_FLOW_STUDIO.md:339:### "Flask quarantine tests failed"
docs/MAINTAINING_FLOW_STUDIO.md:341:**Cause**: Flask import detected in active code.
docs/MAINTAINING_FLOW_STUDIO.md:345:2. Remove Flask imports from active code
docs/MAINTAINING_FLOW_STUDIO.md:346:3. Move Flask code to `swarm/tools/_archive/` if needed
docs/MAINTAINING_FLOW_STUDIO.md:368:- 12 policy tests enforcing Flask quarantine
docs/MAINTAINING_FLOW_STUDIO.md:397:pytest tests/test_no_flask_in_runtime.py -v  # Flask quarantine
docs/MAINTAINING_FLOW_STUDIO.md:404:- **v2.2.0** (2025-12-02): FastAPI-only backend; Flask quarantined; OpenAPI baseline established
docs/MAINTAINING_FLOW_STUDIO.md:405:- **v2.1.x**: Dual Flask/FastAPI backends (deprecated)
docs/MAINTAINING_FLOW_STUDIO.md:406:- **v2.0.x**: Original Flask-only implementation (archived)
docs/ADOPTING_SWARM_VALIDATION.md:185:   # Copy FastAPI backend
docs/ADOPTING_SWARM_VALIDATION.md:238:Flow Studio uses **FastAPI** as its backend, providing asynchronous operation, modern Python patterns, and built-in OpenAPI documentation:
docs/ADOPTING_SWARM_VALIDATION.md:242:# → Starts FastAPI backend with auto-reload on http://localhost:5000
docs/ADOPTING_SWARM_VALIDATION.md:245:**Why FastAPI:**
docs/ADOPTING_SWARM_VALIDATION.md:322:**Use FastAPI for programmatic access:**
docs/ADOPTING_SWARM_VALIDATION.md:324:# 1. Start FastAPI backend
docs/ADOPTING_SWARM_VALIDATION.md:458:# Check if FastAPI dependencies are installed
docs/ADOPTING_SWARM_VALIDATION.md:465:uv run uvicorn swarm.tools.flow_studio_fastapi:app --port 5001
swarm/flows/README.md:255:FastAPI and its dependencies should be installed automatically. If issues persist, check:
swarm/flows/README.md:257:uv run python -c "import fastapi; print('FastAPI OK')"
docs/RELEASE_NOTES_2_3_1.md:25:| Skipped | 41 | Env-gated (SDK, observability, archived Flask) |
docs/RELEASE_NOTES_2_3_1.md:136:| Flask backend tests | ~15 | Archived (FastAPI is primary) |
docs/RELEASE_NOTES_2_3_1.md:189:- [GETTING_STARTED.md](./GETTING_STARTED.md): Quick start guide
docs/FLOW_STUDIO_WISDOM_UI.md:479:- [flow_studio_fastapi.py](../swarm/tools/flow_studio_fastapi.py) - FastAPI implementation
docs/FLOW_STUDIO_API.md:11:**Status**: Stable (v2.0) — FastAPI backend only.
docs/FLOW_STUDIO_API.md:13:> **Note**: As of v2.2, Flow Studio uses FastAPI exclusively. The legacy Flask backend has been archived.
docs/FLOW_STUDIO_API.md:546:- FastAPI backend (default)
docs/FLOW_STUDIO_API.md:553:- Flask backend (archived as of v2.2; see git history if needed)
docs/PRE_DEMO_CHECKLIST.md:131:- [GETTING_STARTED.md](./GETTING_STARTED.md) — Quick start guide
swarm/tools/flow_studio_smoke.py:6:health. It replaces the previous HTTP-based approach (FastAPI TestClient) which
swarm/tools/flow_studio_smoke.py:108:            "Hint: Flow Studio smoke test timed out. This can happen if the FastAPI",
swarm/tools/flow_studio_smoke.py:122:    Instead of spinning up a full FastAPI app + TestClient, this uses the
swarm/tools/flow_studio_smoke.py:126:    FastAPI/TestClient initialization during CI and local smoke tests.
docs/OPERATOR_FLOWS.md:5:> **Prerequisites:** [GETTING_STARTED.md](./GETTING_STARTED.md) | **Related:** [FLOW_STUDIO.md](./FLOW_STUDIO.md)
docs/OPERATOR_FLOWS.md:255:**Symptoms:** Port 5000 in use, TypeScript errors, or Flask startup failure.
docs/OPERATOR_FLOWS.md:270:uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --host 127.0.0.1 --port 5001
docs/OPERATOR_FLOWS.md:443:- [GETTING_STARTED.md](./GETTING_STARTED.md) - First-time setup guide
docs/DEFINITION_OF_DONE.md:199:| Flask backend tests | Archived - FastAPI only |
docs/archive/POLISH_PASS_SUMMARY.md:56:- **v2 Parking Lot:** FastAPI migration, degradations UI, enhanced hints, executable Gherkin, custom steps, OPA/Conftest
docs/archive/POLISH_PASS_SUMMARY.md:116:**Decision:** Explicitly park FastAPI migration, degradations UI, custom steps for v2.
docs/archive/POLISH_PASS_SUMMARY.md:184:### 3. FastAPI Migration
docs/BRANCH_PROTECTION_SETUP.md:525:- Updated prerequisites to list both workflow files
docs/HANDOVER_TEST_HARNESS_V2_3_1.md:69:> * A **Flow Studio** (FastAPI + TS UI) that visualizes flows, runs, and wisdom summaries.
docs/archive/FLOW_STUDIO_TEST_SUMMARY.md:18:Smoke tests for Flask routes to prevent silent breakage.
docs/archive/FLOW_STUDIO_TEST_SUMMARY.md:84:  flow_studio.py              # Flask app (no changes needed)
docs/archive/FLOW_STUDIO_TEST_SUMMARY.md:95:  test_integration.py         # Reference pattern: Flask test client
docs/archive/design_validation.md:1:# Design Validation: Flask → FastAPI Migration Strategy
docs/archive/design_validation.md:45:- Caching strategy (should Flask/FastAPI read file on every request or cache it?)
docs/archive/design_validation.md:50:**Finding**: Sprint 2 migrates tests to FastAPI while Flask is still the default backend.
docs/archive/design_validation.md:53:- `tests/test_flow_studio_governance.py` currently imports Flask:
docs/archive/design_validation.md:55:  from flow_studio import create_app  # Flask app
docs/archive/design_validation.md:59:- After migrating to FastAPI TestClient, **Flask backend has zero test coverage**
docs/archive/design_validation.md:60:- If someone reports a Flask bug during deprecation period, no way to verify it
docs/archive/design_validation.md:66:- `test_flow_studio_governance.py` (Flask) — mark as deprecated but keep
docs/archive/design_validation.md:67:- `test_flow_studio_governance_fastapi.py` (FastAPI) — new primary suite
docs/archive/design_validation.md:68:- Delete Flask tests only in Sprint 5 when removing Flask
docs/archive/design_validation.md:72:**Finding**: No contingency for "What if FastAPI migration fails mid-stream?"
docs/archive/design_validation.md:76:- FastAPI performance is worse than Flask (unknown; no benchmarking planned)
docs/archive/design_validation.md:77:- External tool depends on Flask-specific behavior (e.g., error message formats)
docs/archive/design_validation.md:81:- Tests migrated to FastAPI (Sprint 2 complete)
docs/archive/design_validation.md:82:- Both backends in codebase but Flask is poorly tested
docs/archive/design_validation.md:88:- Criteria for aborting migration ("If X happens, revert to Flask and reconsider")
docs/archive/design_validation.md:92:**Finding**: Plan assumes Flask removal (Sprint 5) is clean, but doesn't verify **who imports flow_studio.py**.
docs/archive/design_validation.md:101:- `flow_studio_fastapi.py` imports `_INDEX_HTML` from Flask file — circular dependency
docs/archive/design_validation.md:102:- If you remove `flow_studio.py` in Sprint 5, FastAPI breaks immediately
docs/archive/design_validation.md:103:- Other tools may import Flask helpers (e.g., `_load_artifact_catalog`, `_REPO_ROOT`)
docs/archive/design_validation.md:122:**Risk 2: FastAPI Import from Flask Creates Circular Dependency**
docs/archive/design_validation.md:125:- **Evidence**: `flow_studio_fastapi.py:42` imports `_INDEX_HTML` from Flask file
docs/archive/design_validation.md:131:- **Evidence**: Current plan deletes Flask tests before deleting Flask code
docs/archive/design_validation.md:139:- **Scenario**: CI wants to test both Flask and FastAPI; Makefile toggle doesn't work in GitHub Actions matrix
docs/archive/design_validation.md:144:- **Impact**: Medium (FastAPI could be slower)
docs/archive/design_validation.md:146:- **Mitigation**: Add Sprint 1.5: benchmark Flask vs FastAPI response times (health, flows, graph endpoints)
docs/archive/design_validation.md:152:- **Mitigation**: Audit all docs/scripts for direct invocations; add deprecation warnings to Flask CLI
docs/archive/design_validation.md:159:- **Evidence**: Flask is in `[project.optional-dependencies.flask-backend]` but plan moves FastAPI to main deps
docs/archive/design_validation.md:160:- **Mitigation**: Sprint 3 step should explicitly move FastAPI from optional to main
docs/archive/design_validation.md:173:1. **Create neutral location**: `swarm/tools/flow_studio_ui/index.html` (NOT inside Flask or FastAPI file)
docs/archive/design_validation.md:175:3. **Update Flask**: Read from file with caching
docs/archive/design_validation.md:176:4. **Update FastAPI**: Read from file with caching
docs/archive/design_validation.md:177:5. **Add regression test**: Compare rendered HTML byte-for-byte (Flask vs FastAPI vs old inline string)
docs/archive/design_validation.md:183:4. Migrate `test_flow_studio_governance.py` to FastAPI
docs/archive/design_validation.md:184:5. Mark Flask version as deprecated
docs/archive/design_validation.md:187:4. **Copy test suite**: Create `test_flow_studio_governance_fastapi.py` (FastAPI TestClient)
docs/archive/design_validation.md:188:5. **Keep Flask tests**: Rename to `test_flow_studio_governance_flask.py`, mark as deprecated
docs/archive/design_validation.md:190:7. **Delete Flask tests** only in Sprint 5 when removing Flask code
docs/archive/design_validation.md:195:- Benchmark Flask response times (10 endpoints: health, flows, graph, runs, etc.)
docs/archive/design_validation.md:196:- Benchmark FastAPI response times (same 10 endpoints)
docs/archive/design_validation.md:197:- Compare: FastAPI should be ≤ 110% of Flask latency
docs/archive/design_validation.md:198:- If FastAPI is slower, investigate before proceeding
docs/archive/design_validation.md:212:12. Remove Flask from dependencies
docs/archive/design_validation.md:217:12. **CI verification**: Run full test suite with FastAPI only
docs/archive/design_validation.md:218:13. **Remove Flask file**: Delete `swarm/tools/flow_studio.py`
docs/archive/design_validation.md:220:15. **Update docs**: Remove all Flask references
docs/archive/design_validation.md:226:- **Sprint 2**: If FastAPI tests fail consistently → keep Flask as default longer
docs/archive/design_validation.md:234:### Option A: Big Bang (Remove Flask Immediately)
docs/archive/design_validation.md:236:**Approach**: Skip phasing, delete Flask, fix what breaks
docs/archive/design_validation.md:249:**Approach**: Keep both backends, never remove Flask
docs/archive/design_validation.md:264:2. Migrate **template system** to FastAPI first (if any)
docs/archive/design_validation.md:277:**Verdict**: **INVESTIGATE** — Current plan assumes no template. If `flow_studio.py` uses Flask templates, this is the safer approach.
docs/archive/design_validation.md:285:**Question**: Do Flask and FastAPI have the same security posture?
docs/archive/design_validation.md:287:- CORS handling: Flask has no CORS by default; FastAPI plan adds `allow_origins=["*"]` (line 69 of `flow_studio_fastapi.py`)
docs/archive/design_validation.md:288:- This is a **security regression** — Flask was stricter
docs/archive/design_validation.md:289:- Need: CORS policy decision before FastAPI becomes default
docs/archive/design_validation.md:296:- Flask 404: `{"error": "Flow 'foo' not found", "available_flows": [...]}`
docs/archive/design_validation.md:297:- FastAPI 404: `JSONResponse({"error": "..."}, status_code=404)`
docs/archive/design_validation.md:305:- Flask uses Flask's built-in logger
docs/archive/design_validation.md:306:- FastAPI uses `uvicorn` logger
docs/archive/design_validation.md:340:2. **Test migration creates coverage gap** (Flask untested during deprecation)
docs/archive/design_validation.md:342:4. **Circular import risk** (FastAPI imports from Flask file)
docs/archive/design_validation.md:351:- CORS security regression (FastAPI `allow_origins=["*"]` vs Flask's default deny)
docs/archive/design_validation.md:353:- Unknown external consumers of Flask API
docs/archive/design_validation.md:368:4. `docs/FLOW_STUDIO_API.md` — documents Flask backend
docs/INDEX.md:9:- Flow Studio UI and FastAPI backend
docs/INDEX.md:26:| 2 | [docs/GETTING_STARTED.md](./GETTING_STARTED.md) | Hands-on path (two lanes) | 15 min |
docs/INDEX.md:101:**Read first**: [docs/GETTING_STARTED.md](./GETTING_STARTED.md)
docs/archive/MAINTAINERS.md:25:1. **FastAPI Migration** — Current HTTP server works fine. Upgrade when: real adoption shows need.
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:1:# FastAPI Migration Complete ✅
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:5:**Status**: **LOCKED IN - No Flask in Runtime**
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:11:The FastAPI migration for Flow Studio is now **permanently locked in** by:
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:12:- **Runtime exclusion**: Flask code archived and excluded from compilation
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:13:- **Test guards**: 26 new tests prevent Flask re-introduction
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:17:Flask is no longer "deprecated" or "legacy" — it's **quarantined and impossible to accidentally use**.
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:23:### 1. Flask Quarantine (Impossible to Re-introduce)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:26:- ✅ Flask backend archived: `swarm/tools/_archive/flow_studio_flask_legacy.py`
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:28:- ✅ No Flask imports in any active code (45 files in `swarm/tools/` verified clean)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:33:**Flask Import Guards**:
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:35:- `test_flask_only_in_archive()` — Verifies Flask is isolated
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:36:- `test_no_subdirectory_flask_in_active_tools()` — Prevents nested Flask imports
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:42:**FastAPI Migration Verification**:
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:43:- `test_fastapi_replaces_flask_functionality()` — Verifies FastAPI completeness
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:44:- `test_no_flask_in_conftest()` — Ensures test infrastructure uses FastAPI
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:46:**Specific Flask Pattern Detection** (Comprehensive):
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:47:- `test_no_flask_app_initialization()` — **NEW**: Detects `Flask(__name__)` pattern
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:49:- `test_no_flask_blueprint_patterns()` — Detects Flask `Blueprint` objects (fixed logic)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:50:- `test_no_flask_route_decorators()` — Detects Flask `@app.route` decorators (fixed logic)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:53:- `test_legacy_flask_file_is_not_executable()` — Confirms Flask is non-active
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:54:- `test_makefile_does_not_reference_flask()` — Verifies build system uses uvicorn
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:60:- Fixed logical flaw: `Blueprint` and `@app.route` tests now fail immediately when patterns found (previously required Flask import in same file)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:61:- Added `Flask(__name__)` detection: catches primary Flask app initialization pattern
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:62:- Added `render_template()` detection: catches Flask template rendering
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:67:### 2. FastAPI Validation (Schema & API Contract)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:87:**Total FastAPI Test Suite**: **53/53 PASSED** in 35.2 minutes ✅
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:95:- **Added**: FastAPI backend as exclusive Flow Studio implementation
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:97:- **Deprecated**: Flask backend archived at `swarm/tools/_archive/flow_studio_flask_legacy.py`
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:101:- Changed "Flask server" → "FastAPI server"
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:106:All primary docs are Flask-free or properly marked:
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:107:- ✅ **README.md**: References only FastAPI backend
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:109:- ✅ **docs/FLOW_STUDIO_API.md**: FastAPI-only API documentation
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:110:- ✅ **CLAUDE.md**: No Flask references
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:112:**Note**: `templates/flowstudio-only/` intentionally uses Flask as a standalone template for adoption scenarios.
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:137:**Note**: The `flowstudio-smoke` failure is due to port 5000 already in use from our test suite. This is a test environment issue, not a code problem.
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:144:- Flask code in `_archive/` directory
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:146:- Flask files cannot accidentally break the build
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:149:- **14 Flask-blocking tests** run on every commit (was 12)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:150:  - Added `Flask(__name__)` detection
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:153:- **14 OpenAPI schema tests** validate FastAPI contract
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:155:- Any Flask import added to active code will immediately fail CI
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:164:- User-facing docs reference only FastAPI
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:172:### If Flask Code Needs to Be Removed Completely
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:173:After FastAPI has baked for N weeks (decision point: TBD):
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:186:3. Remove the Flask guard tests (optional):
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:193:### If New FastAPI Features Needed
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:209:- ✅ Flask quarantine enforcement (`pytest tests/test_no_flask_in_runtime.py`)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:227:| `tests/test_no_flask_in_runtime.py` | 12 | Flask quarantine & regression prevention |
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:237:**Total**: 93+ tests verify FastAPI-only backend (14 Flask guards + 53 FastAPI comprehensive + 26+ others)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:243:- [x] No Flask imports in active code (45 files verified)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:244:- [x] Flask code archived and excluded from compile
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:245:- [x] Test guards prevent Flask re-introduction (14 tests, enhanced)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:250:- [x] All FastAPI tests pass (53/53)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:251:- [x] Makefile uses uvicorn exclusively
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:254:- [x] Flask guard tests: comprehensive pattern detection (Flask(__name__), render_template, Blueprint, @app.route)
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:260:**The FastAPI migration is not just "done" — it's locked in.**
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:262:- Flask is **quarantined**, not just deprecated
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:263:- FastAPI is **the only backend**, not an option
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:269:**Next**: Let FastAPI bake for a few weeks, then remove the archive entirely (optional cleanup).
docs/archive/FASTAPI_MIGRATION_COMPLETE.md:274:**Enhanced**: v2.2.0 improvements (14 Flask guards, ephemeral ports, tier docs)
docs/archive/FLOW_STUDIO_GOVERNANCE_INDEX.md:76:- Data flow (config → catalog → Flask → tests)
docs/archive/FLOW_STUDIO_GOVERNANCE_INDEX.md:97:- Flask test client setup
docs/archive/CHEATSHEET.md:95:make agent-sdk-help        # Documentation and prerequisites
docs/archive/FLOW_STUDIO_TEST_PLAN.md:80:- Use Flask test client to GET `/api/runs`
docs/archive/FLOW_STUDIO_TEST_PLAN.md:107:Ensure Flask routes return expected structure and don't silently break.
docs/archive/FLOW_STUDIO_TEST_PLAN.md:119:    """Flask test client for Flow Studio."""
docs/archive/FLOW_STUDIO_TEST_PLAN.md:132:    Given: Flow Studio Flask app is running
docs/archive/FLOW_STUDIO_TEST_PLAN.md:385:**Trade-off**: Longer step runtime (adds ~2-5s for Flask test client tests).
docs/archive/FLOW_STUDIO_TEST_PLAN.md:626:# Flask test client setup
docs/archive/FLOW_STUDIO_TEST_PLAN.md:629:    """Flask test client for Flow Studio."""
docs/GETTING_STARTED.md:226:**Flow Studio won't start**: Check if port 5000 is in use:
docs/GETTING_STARTED.md:239:uv run uvicorn swarm.tools.flow_studio_fastapi:app --host 127.0.0.1 --port 5001
docs/GETTING_STARTED.md:242:**Browser can't reach localhost:5000**: Check the uvicorn startup message. It should say:
docs/FLOW_STUDIO_REFACTOR.md:563:- [x] Add static file serving to FastAPI backend (`flow_studio_fastapi.py`).
docs/archive/GOVERNANCE_IMPLEMENTATION_GUIDE.md:456:1. **Load Phase** (Flask startup)
docs/archive/PHASE_4_BACKLOG.md:112:**Resolution**: Enhanced /api/health with version, timestamp, selftest_status. Improved 404 responses with available_flows list and hints. Both Flask and FastAPI backends updated for parity.
docs/archive/FLOW_STUDIO_MAINTENANCE.md:38:- **FastAPI wrapper**: `swarm/tools/flow_studio_fastapi.py`
docs/archive/PHASE_6_ADOPTION.md:70:- [x] `templates/flowstudio-only/` standalone template with FastAPI server
docs/archive/PHASE_6_ADOPTION.md:77:- [x] **FastAPI Migration Complete (v2.2.0)**: Flow Studio now runs exclusively on FastAPI
docs/archive/PHASE_6_ADOPTION.md:78:  - Makefile: Single `make flow-studio` target invokes FastAPI backend
docs/archive/PHASE_6_ADOPTION.md:79:  - Flask legacy code archived under `swarm/tools/_archive/flow_studio_flask_legacy.py`
docs/archive/PHASE_6_ADOPTION.md:80:  - Selftest updated to validate FastAPI-only configuration
swarm/tools/STATUS_ENDPOINT.md:3:The Flow Studio FastAPI app has been extended with a `/platform/status` endpoint that provides real-time governance status tracking for the demo-swarm system.
swarm/tools/STATUS_ENDPOINT.md:175:**Flask routes added:**
docs/archive/DEMO_SWARM_COMPREHENSIVE_WALKTHROUGH.md:67:| **Flow Studio** | Visual interface | `swarm/tools/flow_studio_fastapi.py` | FastAPI + TypeScript |
docs/archive/DEMO_SWARM_COMPREHENSIVE_WALKTHROUGH.md:324:        API[FastAPI] --> |REST Endpoints|
docs/archive/TRACK_2_USAGE.md:1:# Track 2 FastAPI Integration - Usage Guide
docs/archive/TRACK_2_USAGE.md:5:Flow Studio uses FastAPI as its backend:
docs/archive/TRACK_2_USAGE.md:14:FastAPI provides async/await support, OpenAPI documentation, and high-performance operation.
docs/archive/TRACK_2_USAGE.md:23:│  (FastAPI)                          │
docs/archive/TRACK_2_USAGE.md:138:## Using with FastAPI
docs/archive/TRACK_2_USAGE.md:140:FastAPI provides all Flow Studio endpoints:
docs/archive/TRACK_2_USAGE.md:337:### Run FastAPI Tests
docs/archive/TRACK_2_USAGE.md:383:### FastAPI with Uvicorn
docs/archive/TRACK_2_USAGE.md:385:# Using uvicorn
docs/archive/TRACK_2_USAGE.md:386:uv run uvicorn swarm.tools.flow_studio_fastapi:app --host 0.0.0.0 --port 5000
docs/archive/TRACK_2_USAGE.md:390:uv run gunicorn swarm.tools.flow_studio_fastapi:app --bind 0.0.0.0:5000 --workers 4 --worker-class uvicorn.workers.UvicornWorker
docs/archive/TRACK_2_USAGE.md:417:### FastAPI not starting
docs/archive/TRACK_2_USAGE.md:428:uv run uvicorn swarm.tools.flow_studio_fastapi:app --port 5001
docs/archive/TRACK_2_USAGE.md:462:- **FastAPI** provides the web framework adapter
docs/archive/TRACK_2_USAGE.md:465:- Use FastAPI for web UI and API access
docs/archive/TRACK_2_USAGE.md:466:- All tests pass with FastAPI backend
docs/FLOW_STUDIO.md:36:- **FastAPI Backend**: Flow Studio now defaults to FastAPI for better
docs/FLOW_STUDIO.md:44:> Start with Lane A of [docs/GETTING_STARTED.md](./GETTING_STARTED.md)
docs/FLOW_STUDIO.md:108:- `make flow-studio` starts the FastAPI server on port 5000
docs/FLOW_STUDIO.md:979:- **[GETTING_STARTED.md](./GETTING_STARTED.md)**: Quick start guide with Flow Studio lane
docs/archive/TRACK_2_IMPLEMENTATION.md:1:# Track 2 (FastAPI) Implementation - Complete
docs/archive/TRACK_2_IMPLEMENTATION.md:5:Successfully implemented Track 2 of the demo-swarm v2 upgrade, building a clean, testable API layer with FastAPI alongside Flask (with no breaking changes to Flask).
docs/archive/TRACK_2_IMPLEMENTATION.md:11:Core business logic extracted from Flask handlers into a framework-agnostic library.
docs/archive/TRACK_2_IMPLEMENTATION.md:41:FastAPI implementation mirroring Flask behavior.
docs/archive/TRACK_2_IMPLEMENTATION.md:55:- Uses same `FlowStudioCore` instance as Flask for consistency
docs/archive/TRACK_2_IMPLEMENTATION.md:58:- Identical JSON response shapes to Flask (no frontend changes needed)
docs/archive/TRACK_2_IMPLEMENTATION.md:65:uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --port 5000
docs/archive/TRACK_2_IMPLEMENTATION.md:75:    @echo "Starting Flow Studio (FastAPI)…"
docs/archive/TRACK_2_IMPLEMENTATION.md:76:    @uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --port 5000
docs/archive/TRACK_2_IMPLEMENTATION.md:81:Comprehensive smoke tests for FastAPI endpoints using `TestClient`.
docs/archive/TRACK_2_IMPLEMENTATION.md:101:Note: Tests skip if FastAPI not installed (expected - FastAPI is optional).
docs/archive/TRACK_2_IMPLEMENTATION.md:119:✅ **All Flask endpoints still work identically**
docs/archive/TRACK_2_IMPLEMENTATION.md:122:- No breaking changes to Flask app
docs/archive/TRACK_2_IMPLEMENTATION.md:124:✅ **FastAPI app has same endpoints as Flask and returns same JSON shapes**
docs/archive/TRACK_2_IMPLEMENTATION.md:126:- Response formats match Flask exactly
docs/archive/TRACK_2_IMPLEMENTATION.md:131:- Listens on port 5000
docs/archive/TRACK_2_IMPLEMENTATION.md:132:- Ready for uvicorn
docs/archive/TRACK_2_IMPLEMENTATION.md:134:✅ **All new FastAPI smoke tests created and passing structure**
docs/archive/TRACK_2_IMPLEMENTATION.md:136:- Tests skip gracefully if FastAPI not installed
docs/archive/TRACK_2_IMPLEMENTATION.md:139:✅ **`make dev-check` still passes (Flask refactor is transparent)**
docs/archive/TRACK_2_IMPLEMENTATION.md:161:### Flask Backward Compatibility
docs/archive/TRACK_2_IMPLEMENTATION.md:176:✓ Flask still works
docs/archive/TRACK_2_IMPLEMENTATION.md:188:4. **Framework-Agnostic Design**: The core module has zero dependencies on Flask or FastAPI. It returns plain dataclasses that any framework can serialize.
docs/archive/TRACK_2_IMPLEMENTATION.md:190:5. **Identical JSON Shapes**: FastAPI and Flask return the exact same JSON shapes for all endpoints. The frontend doesn't know which is running.
docs/archive/TRACK_2_IMPLEMENTATION.md:192:6. **Side-by-Side Deployment**: Flask and FastAPI can run side-by-side. Flask is not deprecated; users can choose based on their preferences.
docs/archive/TRACK_2_IMPLEMENTATION.md:199:| `swarm/tools/flow_studio_fastapi.py` | New | 140 LOC - FastAPI implementation |
docs/archive/TRACK_2_IMPLEMENTATION.md:200:| `tests/test_flow_studio_fastapi_smoke.py` | New | 100 LOC - FastAPI tests |
docs/archive/TRACK_2_IMPLEMENTATION.md:209:### To Use FastAPI
docs/archive/TRACK_2_IMPLEMENTATION.md:212:# Install FastAPI and uvicorn
docs/archive/TRACK_2_IMPLEMENTATION.md:213:uv add fastapi uvicorn
docs/archive/TRACK_2_IMPLEMENTATION.md:215:# Start the FastAPI server
docs/archive/TRACK_2_IMPLEMENTATION.md:219:uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --port 5000
docs/archive/TRACK_2_IMPLEMENTATION.md:225:# FastAPI smoke tests (skip if FastAPI not installed)
docs/archive/TRACK_2_IMPLEMENTATION.md:228:# Existing Flask tests (always run)
docs/archive/TRACK_2_IMPLEMENTATION.md:247:6. **Flask/FastAPI Coexistence**: Both frameworks can run independently on different ports. No shared state issues. ✓ Verified.
docs/archive/TRACK_2_IMPLEMENTATION.md:255:5. **Test coverage** for FastAPI with actual run data
docs/archive/TRACK_2_IMPLEMENTATION.md:256:6. **Production deployment** guide for FastAPI with Gunicorn/Hypercorn
docs/archive/TRACK_2_IMPLEMENTATION.md:263:- Backward compatibility (Flask still works 100%)
docs/archive/TRACK_2_IMPLEMENTATION.md:264:- Forward compatibility (FastAPI ready for production)
docs/archive/TRACK_2_IMPLEMENTATION.md:269:The codebase is ready for either continued Flask usage or migration to FastAPI, with zero breaking changes to clients.
docs/SYSTEM_MAP.md:192:| New to swarm | [GETTING_STARTED.md](./GETTING_STARTED.md) |
swarm/FLOW_STUDIO.md:5:> **Note**: As of v2.2, Flow Studio uses FastAPI exclusively. The legacy Flask backend has been archived. If you're using `templates/flowstudio-only`, this does not affect you—that template continues to use Flask independently.
swarm/FLOW_STUDIO.md:53:- **UI**: Single-page app served from FastAPI (no build step needed)
swarm/FLOW_STUDIO.md:54:- **API**: FastAPI backend with REST endpoints
docs/archive/FLOW_STUDIO_GOVERNANCE_README.md:37:- Data flow (config → catalog → Flask → tests)
docs/archive/FLOW_STUDIO_GOVERNANCE_README.md:48:- Flask test client setup
docs/archive/FLOW_STUDIO_GOVERNANCE_README.md:165:- [ ] Set up Flask test client fixture
docs/archive/FLOW_STUDIO_GOVERNANCE_README.md:202:    flow_studio.py                 # Unchanged (Flask app)
docs/archive/FLOW_STUDIO_GOVERNANCE_README.md:237:- Breaking Flask route → TC-FS-API-* fails
swarm/tools/doc_invariants_check.py:50:    "docs/GETTING_STARTED.md",
swarm/tools/flow_studio_fastapi.py:3:Flow Studio - FastAPI Implementation
swarm/tools/flow_studio_fastapi.py:5:This module provides a FastAPI web server for Flow Studio that mirrors
swarm/tools/flow_studio_fastapi.py:6:the Flask implementation. It uses the same FlowStudioCore backend for
swarm/tools/flow_studio_fastapi.py:11:    uv run uvicorn swarm.tools.flow_studio_fastapi:app --reload --port 5000
swarm/tools/flow_studio_fastapi.py:19:  - uvicorn
swarm/tools/flow_studio_fastapi.py:24:    uv add fastapi uvicorn pyyaml
swarm/tools/flow_studio_fastapi.py:34:from fastapi import FastAPI, Query
swarm/tools/flow_studio_fastapi.py:216:def create_fastapi_app() -> FastAPI:
swarm/tools/flow_studio_fastapi.py:217:    """Create and configure the FastAPI application."""
swarm/tools/flow_studio_fastapi.py:219:    app = FastAPI(
swarm/tools/flow_studio_fastapi.py:268:    # Local caches for flows, agents, and tours (similar to Flask globals)
swarm/tools/flow_studio_fastapi.py:1869:    import uvicorn
swarm/tools/flow_studio_fastapi.py:1870:    uvicorn.run(app, host="127.0.0.1", port=5000)
swarm/tools/flowstudio_smoke.py:189:            "uvicorn",
swarm/tools/flowstudio_smoke.py:363:            "uvicorn",
docs/archive/test_plan_selftest_ac_enforcement.md:395:- API endpoint: `/api/selftest/plan` (via FastAPI TestClient)
docs/archive/test_plan_selftest_ac_enforcement.md:446:- API endpoint: `/api/selftest/plan` (via FastAPI TestClient)
docs/archive/test_plan_selftest_ac_enforcement.md:447:- API endpoint: `/platform/status` (via FastAPI TestClient)
docs/archive/test_plan_selftest_ac_enforcement.md:497:- API endpoint: `/api/selftest/plan` (via FastAPI TestClient)
swarm/runbooks/10min-health-check.md:147:3. Flow Studio starts on port 5000
swarm/runbooks/10min-health-check.md:188:- [docs/GETTING_STARTED.md](../../docs/GETTING_STARTED.md) — Educational walkthrough (explains concepts)
swarm/runbooks/stepwise-fastpath.md:42:### Step 1: Verify prerequisites (30 sec)
swarm/runbooks/selftest-flowstudio-fastpath.md:7:Make Flow Studio smoke checks *bounded and representative* without blocking inner-loop dev. Replace "spawn a full FastAPI app + TestClient" with a lighter-weight, in-process status probe where possible.
swarm/runbooks/selftest-flowstudio-fastpath.md:61:- Replace the `FastAPI TestClient` round-trip for `/status` with a direct call into the new helper when running in CI / headless mode:
swarm/runbooks/selftest-flowstudio-fastpath.md:76:- Keep the existing signature and return codes; you're just swapping a networked FastAPI call for a direct function call.
swarm/tools/_archive/flow_studio_flask_legacy.py:5:This Flask backend for Flow Studio is archived and no longer maintained.
swarm/tools/_archive/flow_studio_flask_legacy.py:7:Production Flow Studio uses FastAPI: swarm/tools/flow_studio_fastapi.py
swarm/tools/_archive/flow_studio_flask_legacy.py:9:This file is preserved for reference only. It shows the legacy Flask
swarm/tools/_archive/flow_studio_flask_legacy.py:11:- Understanding the migration from Flask to FastAPI
swarm/tools/_archive/flow_studio_flask_legacy.py:12:- Reference for templates/flowstudio-only (which continues to use Flask)
swarm/tools/_archive/flow_studio_flask_legacy.py:19:This will start the FastAPI backend automatically.
swarm/tools/_archive/flow_studio_flask_legacy.py:22:to you. That template has its own Flask implementation.
swarm/tools/_archive/flow_studio_flask_legacy.py:43:  - Flask
swarm/tools/_archive/flow_studio_flask_legacy.py:57:from flask import Flask, Response, jsonify, request
swarm/tools/_archive/flow_studio_flask_legacy.py:573:# Flask app
swarm/tools/_archive/flow_studio_flask_legacy.py:576:def create_app() -> Flask:
swarm/tools/_archive/flow_studio_flask_legacy.py:577:    app = Flask(__name__)
swarm/tools/_archive/flow_studio_flask_legacy.py:1177:        help="Disable Flask debug mode",
swarm/tools/selftest.py:756:        - /platform/status endpoint (FastAPI)
swarm/tools/flow_studio_ui/js/domain.js:6: * - Python backend (FastAPI endpoints)
swarm/tools/flow_studio_ui/js/domain.d.ts:6: * - Python backend (FastAPI endpoints)
swarm/tools/flow_studio_ui/index.html:3945: * - Python backend (FastAPI endpoints)
swarm/tools/flow_studio_ui/src/domain.ts:6: * - Python backend (FastAPI endpoints)
swarm/tools/flow_studio_ui/__init__.py:4:The template was extracted from the Flask implementation to decouple UI from backend.
swarm/flowstudio/schema.py:5:This module defines type-safe response models for all FastAPI endpoints.
swarm/flowstudio/core.py:7:(Flask, FastAPI, CLI, etc.).
swarm/flowstudio/core.py:100:    It is independent of any web framework and can be used by Flask, FastAPI,
swarm/flowstudio/__init__.py:7:- Flow Studio Flask app (in swarm/tools/flow_studio.py)
swarm/flowstudio/__init__.py:8:- Flow Studio FastAPI app (in swarm/tools/flow_studio_fastapi.py)
